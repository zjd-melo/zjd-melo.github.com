<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="python," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="python基础知识
str repr  ``str、repr和反引号是将python值转换为字符串的3种方法，函数str让字符串更易于阅读,而repr(和反引号)则把结果字符串转换为合法的python表达式">
<meta property="og:type" content="article">
<meta property="og:title" content="python基础">
<meta property="og:url" content="http://yoursite.com/2017/02/15/python基础/index.html">
<meta property="og:site_name" content="朱佳东的个人博客">
<meta property="og:description" content="python基础知识
str repr  ``str、repr和反引号是将python值转换为字符串的3种方法，函数str让字符串更易于阅读,而repr(和反引号)则把结果字符串转换为合法的python表达式">
<meta property="og:image" content="http://i.imgur.com/kdLsj4Y.png">
<meta property="og:image" content="http://i.imgur.com/QlQK4yG.png">
<meta property="og:updated_time" content="2017-02-15T14:24:32.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="python基础">
<meta name="twitter:description" content="python基础知识
str repr  ``str、repr和反引号是将python值转换为字符串的3种方法，函数str让字符串更易于阅读,而repr(和反引号)则把结果字符串转换为合法的python表达式">
<meta name="twitter:image" content="http://i.imgur.com/kdLsj4Y.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/02/15/python基础/"/>





  <title> python基础 | 朱佳东的个人博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">朱佳东的个人博客</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle">欢迎来到我的博客</p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/15/python基础/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="melo">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/melo.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="朱佳东的个人博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="朱佳东的个人博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                python基础
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-15T22:24:32+08:00">
                2017-02-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/编程语言/" itemprop="url" rel="index">
                    <span itemprop="name">编程语言</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/编程语言/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>python基础知识</p>
<h3 id="str-repr"><a href="#str-repr" class="headerlink" title="str repr  ``"></a><font color="green">str repr  ``</font></h3><p>str、repr和反引号是将python值转换为字符串的3种方法，函数str让字符串更易于阅读,而repr(和反引号)则把结果字符串转换为合法的python表达式</p>
<a id="more"></a>
<h3 id="input与raw-input"><a href="#input与raw-input" class="headerlink" title="input与raw_input"></a><font color="green">input与raw_input</font></h3><ul>
<li>input会假定用户输入的是合法的Python表达式(比如输入一个字符串必须要输入引号)  </li>
<li>raw_input会把所有的输入当做原始数据,然后将其放入字符串中  </li>
</ul>
<h3 id="长字符串-原始字符串-Unicode"><a href="#长字符串-原始字符串-Unicode" class="headerlink" title="长字符串 原始字符串 Unicode"></a><font color="green">长字符串 原始字符串 Unicode</font></h3><ul>
<li>长字符串 “”” “”” ‘’’ ‘’’ </li>
<li>原始字符串 r’ ‘ 在原始字符串中\n不会被转义原样输出,最后一个不能是\,否则会有歧义是字符串中的内容还是换行呢,如果非要以\结尾可以拼接一个\</li>
<li><p>Unicode字符串<br>u’ ‘ python中的普通字符串在内部是以8位ASCII码存储的,而unicode字符串则存储16位Unicode字符  python3.0中所有字符串都是unicode字符串</p>
<h3 id="序列"><a href="#序列" class="headerlink" title="序列"></a><font color="green">序列</font></h3><p>python包含6种内建的序列</p>
</li>
<li><p>列表</p>
</li>
<li>元祖</li>
<li>字符串</li>
<li>Unicode字符串</li>
<li>buffer对象</li>
<li>xrange对象  </li>
</ul>
<p>所有序列类型都可以进行某些特定的操作  </p>
<ul>
<li>索引</li>
<li>分片  步长的正负代表了顺序(负时start要大于stop)</li>
<li>加</li>
<li>乘</li>
<li>从属   in</li>
<li>迭代</li>
</ul>
<h3 id="sort"><a href="#sort" class="headerlink" title="sort"></a><font color="green">sort</font></h3><p>sort方法修改原序列,返回空<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">x = [<span class="number">4</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>]</div><div class="line">y = x.sort()  <span class="comment">#don't do this</span></div><div class="line"><span class="keyword">print</span> y</div><div class="line"><span class="keyword">None</span></div></pre></td></tr></table></figure></p>
<p>想要实现这种情况<code>y = x[:]</code> 有效的复制列表  简单的赋值时没用的<code>y.sort()</code></p>
<p>另一种获取已排序的列表副本的方法是,使用sorted函数<code>y = sorted(x)</code><br>这个函数实际上可以作用于任何序列,却总是返回一个列表<br>高级排序<br>如果希望元素能按照特定的方式进行排序(而不是sort函数默认的方式,即根据python的默认排序规则按升序排列元素),那么可以通过compare(x,y)的形式自定义比较函数,compare(x,y)函数会在x<y时返回负数,在x>y时返回正数,x=y返回0,内建函数cmp提供了比较函数的默认实现方式  </y时返回负数,在x></p>
<p>sort方法另外两个可选参数是key和reverse<br>参数key与参数cmp类似,必须提供一个在排序过程中使用的函数,然而,该函数并不是直接用来确定对象的大小,而是为每个元素创建一个键,然后所有元素根据键来排序  </p>
<p>如根据元素的长度排序,可以使用len作为键函数<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">x = [<span class="string">"fa"</span>,<span class="string">"fasdf"</span>,<span class="string">"fasdfsadfa"</span>]</div><div class="line">x.sort(key=len)</div></pre></td></tr></table></figure></p>
<p>reverse的值是True或者False  </p>
<h3 id="字典"><a href="#字典" class="headerlink" title="字典"></a><font color="green">字典</font></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#clear和sort一样,原处修改</span></div><div class="line">x = &#123;&#125;</div><div class="line">y = x</div><div class="line">x[<span class="string">'k'</span>] = <span class="string">'v'</span></div><div class="line">y</div><div class="line">&#123;<span class="string">'k'</span>:<span class="string">'v'</span>&#125;</div><div class="line">x = &#123;&#125;</div><div class="line">y</div><div class="line">&#123;<span class="string">'k'</span>:<span class="string">'v'</span>&#125;</div><div class="line"></div><div class="line">x = &#123;&#125;</div><div class="line">y = x</div><div class="line">x[<span class="string">'k'</span>] = <span class="string">'v'</span></div><div class="line">y</div><div class="line">&#123;<span class="string">'k'</span>:<span class="string">'v'</span>&#125;</div><div class="line">x.clear()</div><div class="line">y</div><div class="line">&#123;&#125;</div></pre></td></tr></table></figure>
<p>copy 浅拷贝和深拷贝<br>dict.fromkeys([‘name’,’age’],’unknown’)  默认值<br>get获取键值,如果键不存在返回None,不会引起KeyError<br>d.get(‘name’,’N/A’)可以自定义默认值替换None  </p>
<h3 id="is"><a href="#is" class="headerlink" title="== is"></a><font color="green">== is</font></h3><ul>
<li>== 比较值</li>
<li>is 比较是否是同一个对象</li>
</ul>
<h3 id="for-…-in-…"><a href="#for-…-in-…" class="headerlink" title="for … in …"></a><font color="green">for … in …</font></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">100</span>)</div><div class="line">    <span class="keyword">print</span> x</div><div class="line"><span class="comment">#xrange与range的区别是,range一下创建整个序列,xrange一次只创建一个数,在需要迭代一个很大的序列时xrange更有效</span></div></pre></td></tr></table></figure>
<h3 id="循环遍历字典"><a href="#循环遍历字典" class="headerlink" title="循环遍历字典"></a><font color="green">循环遍历字典</font></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">d = &#123;<span class="string">'a'</span>:<span class="number">1</span>,<span class="string">'b'</span>:<span class="number">2</span>&#125;</div><div class="line"><span class="keyword">for</span> key <span class="keyword">in</span> d:</div><div class="line">    <span class="keyword">print</span> key,d[key]</div><div class="line"><span class="comment">#可以使用序列解包  </span></div><div class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> d.items():</div><div class="line">    <span class="keyword">print</span> k,v</div><div class="line"><span class="comment">#字典是无序的,在遍历时pvm能保证键值都被处理  </span></div><div class="line"><span class="comment">#迭代两个序列可以用zip压缩,在使用序列解包迭代</span></div></pre></td></tr></table></figure>
<h3 id="列表推到式–轻量级的循环"><a href="#列表推到式–轻量级的循环" class="headerlink" title="列表推到式–轻量级的循环"></a><font color="green">列表推到式–轻量级的循环</font></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">[x*x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>)]</div><div class="line">[<span class="number">0</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">16</span>,<span class="number">25</span>,<span class="number">36</span>,<span class="number">49</span>,<span class="number">64</span>,<span class="number">81</span>]</div><div class="line"></div><div class="line">[x*x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>) <span class="keyword">if</span> x%<span class="number">3</span>==<span class="number">0</span>]</div><div class="line">[<span class="number">0</span>,<span class="number">9</span>,<span class="number">36</span>,<span class="number">81</span>]</div><div class="line"></div><div class="line">[(x,y) <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">3</span>) <span class="keyword">for</span> y <span class="keyword">in</span> range(<span class="number">3</span>)]</div><div class="line"><span class="comment">#相当于两层for循环  </span></div><div class="line">[(<span class="number">0</span>,<span class="number">0</span>),(<span class="number">0</span>,<span class="number">1</span>),(<span class="number">0</span>,<span class="number">2</span>),(<span class="number">1</span>,<span class="number">0</span>),(<span class="number">1</span>,<span class="number">1</span>),(<span class="number">1</span>,<span class="number">2</span>),(<span class="number">2</span>,<span class="number">0</span>),(<span class="number">2</span>,<span class="number">1</span>),(<span class="number">2</span>,<span class="number">2</span>)]</div></pre></td></tr></table></figure>
<h3 id="pass-del-exec-eval"><a href="#pass-del-exec-eval" class="headerlink" title="pass del exec eval"></a><font color="green">pass del exec eval</font></h3><p>python中是没有办法删除值的,只是删除了变量与值之间的引用关系,值的消失是由GC决定的<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">x = [<span class="string">'hello'</span>,<span class="string">'world'</span>]</div><div class="line">y = x</div><div class="line"><span class="comment">#del x 值还在只不过x这个变量没了</span></div><div class="line">y</div><div class="line">[<span class="string">'hello'</span>,<span class="string">'world'</span>]</div></pre></td></tr></table></figure></p>
<ul>
<li>exec语句用于执行python程序相同的方式来执行字符串</li>
<li>eval函数对写在字符串中的表达式进行计算并且返回结果</li>
</ul>
<h3 id="callable"><a href="#callable" class="headerlink" title="callable"></a><font color="green">callable</font></h3><p>callable判断对象是否可被调用<br>python3.0中callable不再可用,被hasattr(func.__call__)替代</p>
<h3 id="文档字符串"><a href="#文档字符串" class="headerlink" title="文档字符串"></a><font color="green">文档字符串</font></h3><p>在函数类或者模块的开头写上文档字符串可以被查看通过__doc__属性查看或者help帮助函数查看</p>
<h3 id="位置参数-关键字参数-默认参数-param-param"><a href="#位置参数-关键字参数-默认参数-param-param" class="headerlink" title="位置参数 关键字参数 默认参数 param *param"></a><font color="green">位置参数 关键字参数 默认参数 <em>param *</em>param</font></h3><p>位置参数必须严格遵循位置的先后,关键字参数可以和默认参数一起使用     </p>
<p><em>param 把参数封装成元祖<br>*</em>param把参数封装成字典  (传参时用关键字参数传入)</p>
<p>在调用函数时也可以使用*号<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">param=(<span class="number">1</span>,<span class="number">2</span>)</div><div class="line">add(*param)</div><div class="line"><span class="number">3</span></div></pre></td></tr></table></figure></p>
<h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a><font color="green">作用域</font></h3><p>在python中x=1,会把x这个变量绑定到1这个对象上,就像一个不可见的字典一样,内建的vars()函数可以返回这个字典,这类”不可见字典”叫做命名空间或者作用域</p>
<p>globals()函数获取全局变量值和vars()很像,返回全局变量的字典,而locals()返回局部变量的字典<br>在一个函数中有同名的变量,默认是局部变量起作用,此时可以通过globals()[‘x’]的形式引用全局变量<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">x = <span class="number">1</span> </div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">change_global</span><span class="params">()</span>:</span></div><div class="line">	<span class="keyword">global</span> x </div><div class="line">	x+=<span class="number">1</span></div><div class="line">x = <span class="number">2</span></div></pre></td></tr></table></figure></p>
<h3 id="class"><a href="#class" class="headerlink" title="class"></a><font color="green">class</font></h3><p>python中没有所谓的私有属性,即便用以__开头的变量名作为属性名称来表示私有,在类外确实无法访问,但是只不过该私有属性被改名了而已可以用_类名.__私有属性名来访问</p>
<pre><code>__ 用于类的内部即不能被重写  也就是换名了
_  私有属性
__xx__  不要调用,属于python调用的
</code></pre><p><strong>前面带有下划线的名字都不会被带星号的imports语句导入(from module import *)</strong><br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">issubclass(sub,father)</div><div class="line">__bases__返回一个类的基类(们)  </div><div class="line">class.__bases__</div><div class="line">isinstance  </div><div class="line">__class__  可以查看对象属于那个类 如果是__metaclass__=type或从object继承的方式来定义新式类,可以用type查看实例的类</div></pre></td></tr></table></figure></p>
<h3 id="多个超类"><a href="#多个超类" class="headerlink" title="多个超类"></a><font color="green">多个超类</font></h3><p>python支持多重继承,如果继承的多个类中有同名的方法,那么必须注意超类的顺序(在class语句中):先继承的类中的方法会重写后继承的类中的方法,如果超类们共享一个超类,那么在查找给定方法或者特性时访问超类的顺序称为MRO(Method Resolution Order方法判定顺序)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">getattr()  <span class="comment">#函数获取一个对象的属性,如果属性不存在可以设置默认值  </span></div><div class="line">setattr()  <span class="comment">#设置对象的属性</span></div><div class="line">__dict__   <span class="comment">#查看一个对象内所存储的值</span></div></pre></td></tr></table></figure></p>
<p>方法和其他函数的区别在于方法总是将对象作为自己的第一个参数,这个参数一般称为self</p>
<h3 id="异常"><a href="#异常" class="headerlink" title="异常"></a><font color="green">异常</font></h3><p>python内建的异常都在exceptions模块中,可以使用dir查看<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">raise</span> Exception(<span class="string">"time out"</span>)</div><div class="line"></div><div class="line"><span class="keyword">try</span>:</div><div class="line">...</div><div class="line"><span class="keyword">except</span> (,),e :<span class="keyword">print</span> e</div><div class="line"><span class="keyword">except</span> (,) <span class="keyword">as</span> e:(py3<span class="number">.0</span>)</div><div class="line"></div><div class="line"><span class="keyword">try</span>:</div><div class="line">...</div><div class="line"><span class="keyword">except</span>:  捕获任何异常,包括ctrl+c等(最好不要)  </div><div class="line"></div><div class="line"><span class="keyword">try</span>:</div><div class="line">...</div><div class="line"><span class="keyword">except</span>:</div><div class="line">...</div><div class="line"><span class="keyword">else</span>  没有发生异常时执行<span class="keyword">else</span></div><div class="line">...</div><div class="line"></div><div class="line"><span class="keyword">try</span>:</div><div class="line">...</div><div class="line"><span class="keyword">finally</span>:</div><div class="line">...</div></pre></td></tr></table></figure></p>
<h3 id="特殊方法"><a href="#特殊方法" class="headerlink" title="特殊方法"></a><font color="green">特殊方法</font></h3><p>新式类和老式类,新类都继承了object类,缩小了与内建类的差异,为了确保类是新型的应该把赋值语句__metaclass__=type放在模块的最开始,或者(直接或间接)子类化内建类(实际上是类型)object(或其他一些新式类)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">NewStyle</span><span class="params">(object)</span>:</span> <span class="keyword">pass</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">OldStyle</span>:</span> <span class="keyword">pass</span></div></pre></td></tr></table></figure></p>
<p>在这两个类中NewStyle是新式类,OldStyle是老式类,如果文件以<strong>metaclass</strong>=type开始,那么两个类都是新式类除此之外还可以在自己的类的作用域中对<strong>metaclass</strong>变量赋值,这样只会为这个类设定元类<br>py3.0中没有旧式类,也不需要显式的子类化object或者将元类设置为type,所有的类都会隐式的成为object的子类,如果没有明确超类的话,就会直接子类化,否则会间接子类化</p>
<h3 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a><font color="green">构造方法</font></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">__init__</div><div class="line">__del__    <span class="comment">#析够方法</span></div><div class="line">super()    <span class="comment">#只在新式类中有用 老式类使用 父类.__init__(self)来初始化父类的属性</span></div></pre></td></tr></table></figure>
<h3 id="基本的序列和映射规则"><a href="#基本的序列和映射规则" class="headerlink" title="基本的序列和映射规则"></a><font color="green">基本的序列和映射规则</font></h3><p>序列和映射规则是对象的集合,为了实现他们基本的行为(规则),如果是不可变类型,那么需要使用两个魔法方法,如果是可变的则需要使用4个</p>
<ul>
<li><p>__len__(self):<br>这个方法应该返回集合中所含项目的数量,对于序列来说,就是元素的个数,对于映射来说是kv对的数量,如果__len__返回0(没有实现重写该行为的__nonzero__),对象会被当做一个bool变量中的假值(空的列表,元组,字符串和字典一样)处理  </p>
</li>
<li><p>__getitem__(self,key):<br>这个方法返回与所给键对应的值,对于一个序列,键应该是一个0~n-1的整数(或者负数),n是序列的长度,对于映射来说,可以使用任何种类的键  </p>
</li>
<li>__setitem__(self,key,value):  可变对象<br>这个方法应该按一定的方式存储和key相关的value,该值随后可使用__getitem__来获取,只能为可以修改的对象定义这个方法  </li>
<li>__delitem__(self,key):  可变对象<br>这个方法在对一部分对象使用del语句时被调用,同时必须删除和元素相关的键,这个方法也是为可修改的对象定义的(并不是删除全部的对象,而只删除一些需要移除的元素)  </li>
</ul>
<p>对这些方法附加的要求:</p>
<ul>
<li>对于一个序列来说,如果键是负整数,那么要从末尾开始计数,换句话说就是x[-n]和x[len(x)-n]是一样的  </li>
<li>如果键是不合适的类型,会引起一个TypeError异常  </li>
<li>如果序列的索引是正确的类型,但超出了范围,应该引发一个IndexError异常  </li>
</ul>
<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a><font color="green">属性</font></h3><p>如果访问给定特性时必须要采取一些行动,那么像这样的封装状态变量就很重要<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Shape</span><span class="params">(object)</span>:</span></div><div class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line"><span class="meta">... </span>        self.width=<span class="number">0</span></div><div class="line"><span class="meta">... </span>        self.height=<span class="number">0</span></div><div class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">setSize</span><span class="params">(self,size)</span>:</span></div><div class="line"><span class="meta">... </span>        self.width,self.height=size</div><div class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">getSize</span><span class="params">(self)</span>:</span></div><div class="line"><span class="meta">... </span>        <span class="keyword">return</span> self.width,self.height</div><div class="line"><span class="meta">... </span>    size = property(getSize,setSize)</div><div class="line"><span class="meta">... </span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s = Shape()</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s.width</div><div class="line"><span class="number">0</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s.width = <span class="number">10</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s.height = <span class="number">5</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s.size</div><div class="line">(<span class="number">10</span>, <span class="number">5</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s.size=<span class="number">150</span>,<span class="number">100</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s.width</div><div class="line"><span class="number">150</span></div></pre></td></tr></table></figure></p>
<p>实际上,property函数可以用0、1、2、3或者4个参数来调用,如果没有参数,产生的属性既不可读,也不可写,如果只使用一个参数调用(一个取值方法),<br>产生的属性是只读的第三个参数(可选)是一个用于删除特性的方法(他不要参数),第四个参数(可选)是一个文档字符串,property的4个参数分别被叫做fget,fset,fdel,doc,如果想要一个属性是只写的,并且有一个文档字符串,能使用他们作为关键字参数  </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">#只读属性</div><div class="line">&gt;&gt;&gt; class D(object):</div><div class="line">...     def __init__(self):</div><div class="line">...         self.name='melo'</div><div class="line">...     def get(self):</div><div class="line">...         return self.name</div><div class="line">...     call = property(fget=get)</div><div class="line">... </div><div class="line">&gt;&gt;&gt; d=D()</div><div class="line">&gt;&gt;&gt; d.call</div><div class="line">'melo'</div><div class="line">&gt;&gt;&gt; d.call='mmm'</div><div class="line">Traceback (most recent call last):</div><div class="line">File "&lt;stdin&gt;", line 1, in &lt;module&gt;</div><div class="line">AttributeError: can't set attribute</div><div class="line">&gt;&gt;&gt; d.name</div><div class="line">'melo'</div></pre></td></tr></table></figure>
<h3 id="静态方法和类成员方法"><a href="#静态方法和类成员方法" class="headerlink" title="静态方法和类成员方法"></a><font color="green">静态方法和类成员方法</font></h3><p>静态方法和类成员方法分别在创建时被装入Staticmethod类型和Classmethod类型的对象中,静态方法的定义没有self参数,且能够被类本身直接调用,类方法在定义时需要名为cls的类似于self的参数,类成员方法可以直接用类的具体对象调用,但cls参数是自动绑定到类的<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>__metaclass__=type</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Myclass</span>:</span></div><div class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">smeth</span><span class="params">()</span>:</span></div><div class="line"><span class="meta">... </span>        <span class="keyword">print</span> <span class="string">"this is a static method"</span></div><div class="line"><span class="meta">... </span>    smeth = staticmethod(smeth)</div><div class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">cmeth</span><span class="params">(cls)</span>:</span></div><div class="line"><span class="meta">... </span>        <span class="keyword">print</span> <span class="string">"this is a class method of"</span>,cls</div><div class="line"><span class="meta">... </span>    cmeth = classmethod(cmeth)</div></pre></td></tr></table></figure></p>
<p>手动包装和替换方法的技术看起来有点单调,在py2.4中,为这样的包装方法引入了一个叫做装饰器的新语法(能对任何可调用的对象进行包装,既能够用于方法也能用于函数),使用@操作符,在方法(函数)的上方将装饰器列出,从而指定一个或者更多的装饰器(多个装饰器在应用时顺序与指定顺序相反)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>Myclass.smeth()</div><div class="line">this <span class="keyword">is</span> a static method</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>Myclass.cmeth()</div><div class="line">this <span class="keyword">is</span> a <span class="class"><span class="keyword">class</span> <span class="title">method</span> <span class="title">of</span> &lt;<span class="title">class</span> '<span class="title">__main__</span>.<span class="title">Myclass</span>'&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="getattr-setattr"><a href="#getattr-setattr" class="headerlink" title=" __getattr__ __setattr__ "></a><font color="green"> __getattr__ __setattr__ </font></h3><p>拦截对象的所有特性访问时可能的,这样可以用旧式类实现属性(因为property方法不能使用)为了访问属性的时候可以执行代码,必须使用一些魔法方法,下面4种方法提供了需要的功能(在旧式类中只需要后3个)  </p>
<ul>
<li>__getattribute__(self,name):<br>当属性name被访问时自动被调用(只能在新式类中调用)  </li>
<li>__getattr__(self,name):<br>当属性name被访问且对象没有相应的属性时被自动调用  </li>
<li>__setattr__(self,name,value):<br>当试图给特性name赋值时会被自动调用  </li>
<li>__delattr__(self,name):<br>当试图删除属性name时被自动调用  </li>
</ul>
<p>尽管和使用property函数相比有点复杂(而且在某些方面效率更低),但这些特殊方法是很强大的,因为可以对处理属性的方法进行再编码<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span>:</span></div><div class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span> </div><div class="line"><span class="meta">... </span>        self.width = <span class="number">0</span></div><div class="line"><span class="meta">... </span>        self.height = <span class="number">0</span> </div><div class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">__setattr__</span><span class="params">(self,name,value)</span>:</span></div><div class="line"><span class="meta">... </span>        <span class="keyword">if</span> name == <span class="string">'size'</span>:</div><div class="line"><span class="meta">... </span>            self.width,self.height = value</div><div class="line"><span class="meta">... </span>        <span class="keyword">else</span>:</div><div class="line"><span class="meta">... </span>            self.__dict__[name] = value</div><div class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">__getattr__</span><span class="params">(self,name)</span>:</span></div><div class="line"><span class="meta">... </span>        <span class="keyword">if</span> name == <span class="string">'size'</span>:  </div><div class="line"><span class="meta">... </span>            <span class="keyword">return</span> self.width,self.height</div><div class="line"><span class="meta">... </span>        <span class="keyword">else</span>:</div><div class="line"><span class="meta">... </span>            <span class="keyword">raise</span> AttributeError</div><div class="line">...</div></pre></td></tr></table></figure></p>
<ul>
<li>__setattr__<br>方法所涉及到的属性不是size时也会被调用,因此,这个方法必须把两方面考虑进去:如果属性是size,那么就像前面那样执行操作,否则就要使用特殊方法__dict__,该特殊方法包含一个字典,字典里面是所有实例的属性,为了避免__setattr__方法被再次调用(这样会使程序陷入死循环),__dict__方法被用来代替普通的属性赋值操作  </li>
<li>__getattr__方法只在普通的属性没有被找到的时候调用,也就是说如果给定的名字不是size,这个特性不存在,这个方法会引起一个AttributeError异常  </li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>r = Rectangle()</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>r.__dict__</div><div class="line">&#123;<span class="string">'width'</span>: <span class="number">0</span>, <span class="string">'height'</span>: <span class="number">0</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>r.name = <span class="string">'cicle'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>r.name</div><div class="line"><span class="string">'cicle'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>r.__dict__</div><div class="line">&#123;<span class="string">'width'</span>: <span class="number">0</span>, <span class="string">'name'</span>: <span class="string">'cicle'</span>, <span class="string">'height'</span>: <span class="number">0</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>r.size</div><div class="line">(<span class="number">0</span>, <span class="number">0</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>r.size=<span class="number">100</span>,<span class="number">100</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>r.size</div><div class="line">(<span class="number">100</span>, <span class="number">100</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>r.shape</div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">14</span>, <span class="keyword">in</span> __getattr__</div><div class="line">AttributeError</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>r.__dict__</div><div class="line">&#123;<span class="string">'width'</span>: <span class="number">100</span>, <span class="string">'name'</span>: <span class="string">'cicle'</span>, <span class="string">'height'</span>: <span class="number">100</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>c = Rectangle()</div><div class="line">&gt;&gt; c.size</div><div class="line">(<span class="number">0</span>, <span class="number">0</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>c.__dict__</div><div class="line">&#123;<span class="string">'width'</span>: <span class="number">0</span>, <span class="string">'height'</span>: <span class="number">0</span>&#125;</div></pre></td></tr></table></figure>
<h3 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a><font color="green">迭代器</font></h3><p>迭代的意思就是重复做一些事很多次,就像在循环中做的那样,对其他的对象进行迭代(实现__iter__方法的对象)<br>__iter__方法返回一个迭代器(iterator),所谓的迭代器就是具有next方法(这个方法是调用时不需要任何参数)的对象,在调用next方法时迭代器会返回它的下一个值,如果next方法被调用,但迭代器没有值可以返回,就会引发一个StopIteration异常<br>一个实现了__iter__方法的对象是可迭代的,一个实现了next方法的对象则是迭代器<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#内建的iter可以从可迭代的对象中获得迭代器  </span></div><div class="line">it = iter([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</div><div class="line">it.next()</div><div class="line"><span class="number">1</span></div><div class="line">it.next()</div><div class="line"><span class="number">2</span></div></pre></td></tr></table></figure></p>
<h3 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a><font color="green">生成器</font></h3><p>yield<br>循环生成器<br>和列表推导式类似,只不过返回的不是列表而是生成器(并且不会立刻进行循环)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">g = ((i+<span class="number">2</span>)**<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,<span class="number">10</span>))</div><div class="line">g.next()</div><div class="line"><span class="number">16</span></div></pre></td></tr></table></figure></p>
<p>和列表推导式不同的是普通圆括号的使用方式<br>可以直接在当前括号中直接使用<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sum(i**<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>))</div></pre></td></tr></table></figure></p>
<h3 id="包"><a href="#包" class="headerlink" title="包"></a><font color="green">包</font></h3><p>包中的内容就是定义在__init__.py文件中的  </p>
<h3 id="探究模块"><a href="#探究模块" class="headerlink" title="探究模块"></a><font color="green">探究模块</font></h3><p>dir查看模块包含的内容, 它会返回对象(以及模块的所有函数、类、变量等)的所有特性列出    </p>
<p>模块中的__all__变量定义了模块的公有接口,它告诉解释器:从模块导入所有名字代表什么含义,因此如果是from copy import <em>那么,你只能使用__all__中定义的属性,要导入其他函数或属性要显式导入 from copy import pYStringMap<br>在编写模块时,设置__all__是有用的,因为模块中可能会有一大堆其他程序不需要或不想要的变量、函数和类,__all__会过滤掉这些如果没有设置__all__,用import </em>语句默认将会输出模块中所有不以下划线开头的全局名称<br>需要注意的是 __all__ 只影响到了 from <module> import * 这种导入方式，对于 from <module> import <member> 导入方式并没有影响，仍然可以从外部导入</member></module></module></p>
<h3 id="查看源代码"><a href="#查看源代码" class="headerlink" title="查看源代码"></a><font color="green">查看源代码</font></h3><p>__file__属性知道模块的源代码所在位置<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> copy.__file__</div></pre></td></tr></table></figure></p>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a><font color="green">测试</font></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">square</span><span class="params">(x)</span>:</span></div><div class="line">    <span class="string">'''</span></div><div class="line">    Squares a number and returns the result.</div><div class="line">    &gt;&gt;&gt; square(2)</div><div class="line">    4</div><div class="line">    &gt;&gt;&gt; square(3)</div><div class="line">    9</div><div class="line">    '''</div><div class="line">    <span class="keyword">return</span> x*x</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    <span class="keyword">import</span> doctest,my_math</div><div class="line">    doctest.testmod(my_math)</div><div class="line"></div><div class="line">python my_math.py -v</div></pre></td></tr></table></figure>
<p>单元测试<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductTestCase</span><span class="params">(unittest.TestCase)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">testIntegers</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> xrange(<span class="number">-10</span>,<span class="number">10</span>):</div><div class="line">           <span class="keyword">for</span> y <span class="keyword">in</span> xrange(<span class="number">-10</span>,<span class="number">10</span>):</div><div class="line">               p = my_math.product(x,y)</div><div class="line">               self.failUnless(p == x*y,<span class="string">'Integer multiplication failed'</span>)</div><div class="line"> </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">testFloats</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> xrange(<span class="number">-10</span>,<span class="number">10</span>):</div><div class="line">           <span class="keyword">for</span> y <span class="keyword">in</span> xrange(<span class="number">-10</span>,<span class="number">10</span>):</div><div class="line">               x = x/<span class="number">10.0</span></div><div class="line">               y = y/<span class="number">10.0</span></div><div class="line">               p = my_math.product(x,y)</div><div class="line">               self.failUnless(p == x*y,<span class="string">"Float multiplication failed"</span>)</div><div class="line">	</div><div class="line"><span class="keyword">if</span>  __name__ == <span class="string">'__main__'</span>:</div><div class="line">    unittest.main()</div></pre></td></tr></table></figure></p>
<p>unittest.main函数负责运行测试,他会实例化所有TestCase的子类,运行所有名字以test开头的方法,如果定义了叫做startUp和tearDown的方法,它们就会在运行每个测试方法之前和之后执行,这样就可以用这些方法为所有测试提供一般的初始化和清理代码,这就是测试夹具(test fixture)</p>
<h3 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a><font color="green">装饰器</font></h3><ol>
<li>装饰器本身是一个函数,用于装饰其他函数</li>
<li>增强被装饰函数的功能  </li>
<li>装饰器一般接收一个函数对象作为参数</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">deco</span><span class="params">(func)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(x)</span>:</span></div><div class="line">        <span class="keyword">print</span> <span class="string">'--------------'</span></div><div class="line">        func(x)</div><div class="line">        <span class="keyword">print</span> <span class="string">'++++++++++++++'</span></div><div class="line"></div><div class="line">	    <span class="keyword">return</span> wrapper</div><div class="line">	</div><div class="line"><span class="meta">@deco   # 装饰器</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">show</span><span class="params">(x)</span>:</span></div><div class="line">    <span class="keyword">print</span> x</div><div class="line"></div><div class="line">show(<span class="string">'hello world'</span>)</div></pre></td></tr></table></figure>
<h3 id="重载"><a href="#重载" class="headerlink" title="重载"></a><font color="green">重载</font></h3><p><img src="http://i.imgur.com/kdLsj4Y.png" alt=""> </p>
<p><img src="http://i.imgur.com/QlQK4yG.png" alt=""></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/python/" rel="tag"># python</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/02/15/ntp时间服务器/" rel="next" title="ntp时间服务器">
                <i class="fa fa-chevron-left"></i> ntp时间服务器
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/02/16/Ubuntu配置静态ip/" rel="prev" title="Ubuntu配置静态ip">
                Ubuntu配置静态ip <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/melo.png"
               alt="melo" />
          <p class="site-author-name" itemprop="name">melo</p>
          <p class="site-description motion-element" itemprop="description">没有岩石的阻挡怎能击起美丽的浪花</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#str-repr"><span class="nav-number">1.</span> <span class="nav-text">str repr  ``</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#input与raw-input"><span class="nav-number">2.</span> <span class="nav-text">input与raw_input</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#长字符串-原始字符串-Unicode"><span class="nav-number">3.</span> <span class="nav-text">长字符串 原始字符串 Unicode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#序列"><span class="nav-number">4.</span> <span class="nav-text">序列</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sort"><span class="nav-number">5.</span> <span class="nav-text">sort</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字典"><span class="nav-number">6.</span> <span class="nav-text">字典</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#is"><span class="nav-number">7.</span> <span class="nav-text">== is</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#for-…-in-…"><span class="nav-number">8.</span> <span class="nav-text">for … in …</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#循环遍历字典"><span class="nav-number">9.</span> <span class="nav-text">循环遍历字典</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#列表推到式–轻量级的循环"><span class="nav-number">10.</span> <span class="nav-text">列表推到式–轻量级的循环</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pass-del-exec-eval"><span class="nav-number">11.</span> <span class="nav-text">pass del exec eval</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#callable"><span class="nav-number">12.</span> <span class="nav-text">callable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文档字符串"><span class="nav-number">13.</span> <span class="nav-text">文档字符串</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#位置参数-关键字参数-默认参数-param-param"><span class="nav-number">14.</span> <span class="nav-text">位置参数 关键字参数 默认参数 param *param</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#作用域"><span class="nav-number">15.</span> <span class="nav-text">作用域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#class"><span class="nav-number">16.</span> <span class="nav-text">class</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#多个超类"><span class="nav-number">17.</span> <span class="nav-text">多个超类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#异常"><span class="nav-number">18.</span> <span class="nav-text">异常</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#特殊方法"><span class="nav-number">19.</span> <span class="nav-text">特殊方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#构造方法"><span class="nav-number">20.</span> <span class="nav-text">构造方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基本的序列和映射规则"><span class="nav-number">21.</span> <span class="nav-text">基本的序列和映射规则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#属性"><span class="nav-number">22.</span> <span class="nav-text">属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#静态方法和类成员方法"><span class="nav-number">23.</span> <span class="nav-text">静态方法和类成员方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#getattr-setattr"><span class="nav-number">24.</span> <span class="nav-text"> __getattr__ __setattr__ </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#迭代器"><span class="nav-number">25.</span> <span class="nav-text">迭代器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#生成器"><span class="nav-number">26.</span> <span class="nav-text">生成器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#包"><span class="nav-number">27.</span> <span class="nav-text">包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#探究模块"><span class="nav-number">28.</span> <span class="nav-text">探究模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查看源代码"><span class="nav-number">29.</span> <span class="nav-text">查看源代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#测试"><span class="nav-number">30.</span> <span class="nav-text">测试</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#装饰器"><span class="nav-number">31.</span> <span class="nav-text">装饰器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#重载"><span class="nav-number">32.</span> <span class="nav-text">重载</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">melo</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  



  
  

  

  

  

  


</body>
</html>
